<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.grpcstreamings.resturantapp.controller.SalesController"
            stylesheets="@/sales.css">

    <top>
        <VBox style="-fx-background-color: #2c3e50; -fx-padding: 15;">
            <HBox spacing="10" alignment="CENTER_LEFT">
                <Label text="Sales Management" style="-fx-text-fill: white; -fx-font-size: 24;"/>
                <Button text="New Sale" onAction="#handleNewSale" style="-fx-background-color: #27ae60;"/>
                <Button text="Back" onAction="#handleBack" style="-fx-background-color: #95a5a6;"/>
            </HBox>
        </VBox>
    </top>

    <center>
        <SplitPane dividerPositions="0.3">
            <!-- Left Side: Sales List -->
            <TableView fx:id="salesTable">
                <columnResizePolicy>
                    <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                </columnResizePolicy>
                <columns>
                    <TableColumn fx:id="itemColumn" text="Item"/>
                    <TableColumn fx:id="quantityColumn" text="Qty"/>
                    <TableColumn fx:id="totalColumn" text="Total"/>
                    <TableColumn fx:id="dateColumn" text="Date"/>
                </columns>
            </TableView>

            <!-- Right Side: Sale Form -->
            <GridPane hgap="10" vgap="10" style="-fx-padding: 20;">
                <ComboBox fx:id="itemsCombo" promptText="Select Item" GridPane.rowIndex="0" GridPane.columnSpan="2"/>

                <Label text="Quantity:" GridPane.rowIndex="1"/>
                <TextField fx:id="quantityField" text="1" GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                <Label text="Discount (%):" GridPane.rowIndex="2"/>
                <TextField fx:id="discountField" GridPane.rowIndex="2" GridPane.columnIndex="1"/>

                <Label text="Service Tax (%):" GridPane.rowIndex="3"/>
                <TextField fx:id="serviceTaxField" GridPane.rowIndex="3" GridPane.columnIndex="1"/>

                <Label text="Tip:" GridPane.rowIndex="4"/>
                <TextField fx:id="tipField" GridPane.rowIndex="4" GridPane.columnIndex="1"/>

                <HBox spacing="10" GridPane.rowIndex="5" GridPane.columnSpan="2">
                    <Button text="Calculate" onAction="#handleCalculate" style="-fx-background-color: #2980b9;"/>
                    <Label fx:id="totalLabel" style="-fx-font-size: 16; -fx-text-fill: #27ae60;"/>
                </HBox>
            </GridPane>
        </SplitPane>
    </center>
</BorderPane>